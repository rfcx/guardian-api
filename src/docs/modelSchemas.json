{
  "Stream": {
    "properties": {
      "id": {
        "type": "string",
        "example": "01a2ucztj8ax"
      },
      "name": {
        "type": "string",
        "example": "My Stream 1"
      },
      "latitude": {
        "type": "float",
        "example": 90.123
      },
      "longitude": {
        "type": "float",
        "example": 125.912
      },
      "project": {
        "type": "object",
        "$ref": "#/components/schemas/Project"
      }
    }
  },
  "StreamWithEventsCount": {
    "allOf": [
      {
        "$ref": "#/components/schemas/Stream"
      },
      {
        "properties": {
          "eventsCount": {
            "type": "number",
            "example": 10
          }
        }
      }
    ]
  },
  "Project": {
    "properties": {
      "id": {
        "type": "string",
        "example": "xu82jDgX49"
      },
      "name": {
        "type": "string",
        "example": "My Project 1"
      },
      "isPublic": {
        "type": "boolean",
        "example": true
      },
      "externalId": {
        "type": "number",
        "example": 1910
      }
    }
  },
  "IncidentLite": {
    "properties": {
      "id": {
        "type": "string",
        "example": "7b8c15a9-5bc0-4059-b8cd-ec26aea92b11"
      },
      "createdAt": {
        "type": "date",
        "example": "2021-07-01T12:03:52.912Z"
      },
      "closedAt": {
        "type": "date",
        "example": "2021-08-14T19:59:48.795Z"
      }
    }
  },
  "IncidentForResponse": {
    "allOf": [
      {
        "$ref": "#/components/schemas/IncidentLite"
      },
      {
        "properties": {
          "ref": {
            "type": "number",
            "example": 1
          },
          "stream_id": {
            "type": "string",
            "example": "01a2ucztj8ax"
          },
          "project_id": {
            "type": "string",
            "example": "xu82jDgX49"
          }
        }
      }
    ]
  },
  "Incident": {
    "allOf": [
      {
        "$ref": "#/components/schemas/IncidentLite"
      },
      {
        "properties": {
          "ref": {
            "type": "number",
            "example": 1
          },
          "stream_id": {
            "type": "string",
            "example": "01a2ucztj8ax"
          },
          "project_id": {
            "type": "string",
            "example": "xu82jDgX49"
          },
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventForIncident"
            }
          },
          "responses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ResponseForIncident"
            }
          }
        }
      }
    ]
  },
  "Classification": {
    "properties": {
      "value": {
        "type": "string",
        "example": "chainsaw"
      },
      "title": {
        "type": "string",
        "example": "Chainsaw"
      }
    }
  },
  "User": {
    "properties": {
      "firstname": {
        "type": "string",
        "example": "John"
      },
      "lastname": {
        "type": "string",
        "example": "Doe"
      },
      "guid": {
        "type": "string",
        "example": "03a5ef05-94a0-4972-89d4-fc3d40e2e210"
      },
      "email": {
        "type": "string",
        "example": "john@doe.com"
      }
    }
  },
  "ResponseLite": {
    "properties": {
      "id": {
        "type": "string",
        "example": "c5e5ee8a-697b-4d26-9c8b-aac38e1bdda7"
      }
    }
  },
  "ResponseForIncident": {
    "allOf": [
      {
        "$ref": "#/components/schemas/ResponseLite"
      },
      {
        "properties": {
          "id": {
            "type": "string",
            "example": "5cb87566-f50b-4d14-b940-5c526dbbcbbb"
          },
          "investigatedAt": {
            "type": "Date",
            "example": "2021-09-21T04:45:16.991Z"
          },
          "startedAt": {
            "type": "Date",
            "example": "2021-10-05T08:51:25.829Z"
          },
          "submittedAt": {
            "type": "Date",
            "example": "2021-10-05T08:51:43.517Z"
          },
          "createdAt": {
            "type": "Date",
            "example": "2021-10-05T08:51:35.855Z"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          }
        }
      }
    ]
  },
  "Response": {
    "allOf": [
      {
        "$ref": "#/components/schemas/ResponseForIncident"
      },
      {
        "properties": {
          "loggingScale": {
            "type": "number",
            "example": 1
          },
          "damageScale": {
            "type": "number",
            "example": 2
          },
          "evidences": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "Cut down trees",
              "Loggers at site"
            ]
          },
          "actions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "Collected evidence",
              "Issue a fine"
            ]
          },
          "incident": {
            "$ref": "#/components/schemas/IncidentForResponse"
          }
        }
      }
    ]
  },
  "EventForIncident": {
    "properties": {
      "id": {
        "type": "string",
        "example": "cf8a7ac9-0dd2-40b6-b03f-a067d6c43325"
      },
      "start": {
        "type": "date",
        "example": "2020-05-12T07:30:21.500Z"
      },
      "end": {
        "type": "date",
        "example": "2020-05-12T07:30:22.500Z"
      },
      "createdAt": {
        "type": "date",
        "example": "2021-07-01T12:03:51.912Z"
      },
      "classification": {
        "$ref": "#/components/schemas/Classification"
      }
    }
  },
  "EventWithIncident": {
    "allOf": [
      {
        "$ref": "#/components/schemas/EventForIncident"
      },
      {
        "properties": {
          "stream_id": {
            "type": "string",
            "example": "01a2ucztj8ax"
          },
          "project_id": {
            "type": "string",
            "example": "xu82jDgX49"
          },
          "incident": {
            "$ref": "#/components/schemas/IncidentLite"
          }
        }
      }
    ]
  },
  "Asset": {
    "properties": {
      "id": {
        "type": "string",
        "example": "b4613329-6724-4db5-9fad-a6dd9fb44412"
      },
      "fileName": {
        "type": "string",
        "example": "IMG0001.png"
      },
      "mimeType": {
        "type": "string",
        "example": "image/png"
      },
      "response": {
        "$ref": "#/components/schemas/ResponseLite"
      },
      "createdBy": {
        "$ref": "#/components/schemas/User"
      },
      "createdAt": {
        "type": "date",
        "example": "2021-07-01T12:03:52.912Z"
      }
    }
  }
}
